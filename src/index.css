@import './styles/tokens.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html,
  body {
    height: 100%;
    overflow: hidden;
  }
  
  html,
  body,
  #root {
    font-family: 'Inter', sans-serif;
    background-color: rgb(var(--color-bg));
    color: rgb(var(--color-fg));
    margin: 0;
    padding: 0;
  }
  
  #root {
    height: 100vh;
    overflow: hidden;
  }

  h2 {
    font-family: 'Inter', sans-serif;
    font-size: 18px;
    letter-spacing: -0.01em;
    font-weight: 500;
    color: #000000;
  }
}

/* Custom scrollbar styles - flush, with padding around thumb */
::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

::-webkit-scrollbar-track {
  background: transparent;
  margin: 0;
  padding: 0;
}

::-webkit-scrollbar-thumb {
  background: #B6B6B6;
  border-radius: 9999px;
  border: 3px solid transparent;
  background-clip: padding-box;
}

::-webkit-scrollbar-thumb:hover {
  background: #5A5A5A;
  border: 3px solid transparent;
  background-clip: padding-box;
}

::-webkit-scrollbar-corner {
  background: transparent;
}

/* Scrollbar arrow buttons */
::-webkit-scrollbar-button {
  display: block;
  height: 12px;
  width: 12px;
  background-color: transparent;
}

/* Vertical scrollbar - top button (up arrow) */
::-webkit-scrollbar-button:vertical:start:decrement {
  display: block;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath d='M6 4L3 7h6z' fill='%23B6B6B6'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: center;
}

::-webkit-scrollbar-button:vertical:start:decrement:hover {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath d='M6 4L3 7h6z' fill='%235A5A5A'/%3E%3C/svg%3E");
}

/* Hide the other top button */
::-webkit-scrollbar-button:vertical:start:increment {
  display: none;
}

/* Vertical scrollbar - bottom button (down arrow) */
::-webkit-scrollbar-button:vertical:end:increment {
  display: block;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath d='M6 8L3 5h6z' fill='%23B6B6B6'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: center;
}

::-webkit-scrollbar-button:vertical:end:increment:hover {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath d='M6 8L3 5h6z' fill='%235A5A5A'/%3E%3C/svg%3E");
}

/* Hide the other bottom button */
::-webkit-scrollbar-button:vertical:end:decrement {
  display: none;
}

/* Horizontal scrollbar - left button (left arrow) */
::-webkit-scrollbar-button:horizontal:start:decrement {
  display: block;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath d='M4 6L7 3v6z' fill='%23B6B6B6'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: center;
}

::-webkit-scrollbar-button:horizontal:start:decrement:hover {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath d='M4 6L7 3v6z' fill='%235A5A5A'/%3E%3C/svg%3E");
}

/* Hide the other left button */
::-webkit-scrollbar-button:horizontal:start:increment {
  display: none;
}

/* Horizontal scrollbar - right button (right arrow) */
::-webkit-scrollbar-button:horizontal:end:increment {
  display: block;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath d='M8 6L5 3v6z' fill='%23B6B6B6'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: center;
}

::-webkit-scrollbar-button:horizontal:end:increment:hover {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath d='M8 6L5 3v6z' fill='%235A5A5A'/%3E%3C/svg%3E");
}

/* Hide the other right button */
::-webkit-scrollbar-button:horizontal:end:decrement {
  display: none;
}

.dark ::-webkit-scrollbar-thumb {
  background: #B6B6B6;
  border: 3px solid transparent;
  background-clip: padding-box;
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: #5A5A5A;
  border: 3px solid transparent;
  background-clip: padding-box;
}


@layer utilities {
  /* Section header text style - used in sidebars */
  .text-section-header {
    font-family: 'Inter', sans-serif;
    font-size: 12px;
    letter-spacing: -0.01em;
    font-weight: 500;
  }

  /* Help text style - light italic helper text */
  .text-help {
    font-family: 'Inter', sans-serif;
    font-size: 11px;
    font-weight: 400;
    font-style: italic;
    letter-spacing: -0.01em;
    color: #ABABAB;
  }

  /* Ensure button backgrounds use tokens - explicitly define these classes */
  .bg-brand {
    background-color: rgb(var(--color-brand)) !important;
  }
  .bg-brandLight {
    background-color: rgb(var(--color-brand-light)) !important;
  }
  
  /* Background system classes */
  .bg-bg2 {
    background-color: rgb(var(--color-bg-secondary)) !important;
  }
  .bg-bg3 {
    background-color: rgb(var(--color-bg-tertiary)) !important;
  }
  .bg-bg-active {
    background-color: rgb(229 231 235) !important; /* gray-200 - darker for active state */
  }
  
  /* Ensure button text colors use tokens - explicitly define these classes */
  .text-fg {
    color: rgb(var(--color-fg)) !important;
  }
  .text-fgInverse {
    color: rgb(var(--color-fg-inverse)) !important;
  }
  .text-fg2 {
    color: rgb(var(--color-fg-secondary)) !important;
  }
  .text-fg3 {
    color: rgb(var(--color-fg-tertiary)) !important;
  }
  .text-fgMuted {
    color: rgb(var(--color-fg-muted)) !important;
  }
}

/* Hover states - defined outside layer to ensure maximum specificity */
/* IMPORTANT: These must come after @layer utilities to override !important rules */

/* Dark button hover - multiple selectors to catch all cases */
button:hover.bg-brand,
button.bg-brand:hover,
.hover\:bg-brandHover:hover,
button[class*="bg-brand"]:hover,
button[class*="hover:bg-brandHover"]:hover {
  background-color: rgb(var(--color-brand-hover)) !important;
}

button.bg-brand:active,
button[class*="active:bg-brandHover"]:active {
  background-color: rgb(var(--color-brand-hover)) !important;
}

/* Light button hover - multiple selectors to catch all cases */
button:hover.bg-brandLight,
button.bg-brandLight:hover,
.hover\:bg-brandLightHover:hover,
button[class*="bg-brandLight"]:hover,
button[class*="hover:bg-brandLightHover"]:hover {
  background-color: rgb(var(--color-brand-light-hover)) !important;
}

button.bg-brandLight:active,
button[class*="active:bg-brandLightHover"]:active {
  background-color: rgb(var(--color-brand-light-hover)) !important;
}

/* Input focus outline */
input.input-focus-outline,
textarea.input-focus-outline,
button.input-focus-outline {
  outline: 0.5px solid transparent;
  outline-offset: 0px;
  transition: outline 0.1s ease-in-out;
}

input.input-focus-outline:focus,
textarea.input-focus-outline:focus,
button.input-focus-outline:focus {
  outline: 0.5px solid #ABABAB !important;
  outline-offset: 0px !important;
}

/* Select dropdown options */
button.select-option:hover {
  background-color: rgb(var(--color-select-hover)) !important;
}

button.select-option-unselected {
  color: rgb(var(--color-input-placeholder)) !important;
  font-family: 'Inter', sans-serif !important;
  font-weight: 500 !important; /* medium */
  font-size: 12px !important;
}

button.select-option-unselected span {
  color: rgb(var(--color-input-placeholder)) !important;
  font-family: 'Inter', sans-serif !important;
  font-weight: 500 !important; /* medium */
  font-size: 12px !important;
}

button.select-option-selected {
  color: rgb(var(--color-fg)) !important;
}

button.select-option-selected span {
  color: rgb(var(--color-fg)) !important;
}

/* Hide number input spinner arrows */
input[type="number"] {
  -moz-appearance: textfield;
}

input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Input placeholder styling to match design spec */
input.input-focus-outline::placeholder,
input[class*="input-focus-outline"]::placeholder,
textarea.input-focus-outline::placeholder,
textarea[class*="input-focus-outline"]::placeholder,
input[type="text"]::placeholder,
input[type="email"]::placeholder,
input[type="tel"]::placeholder,
input[type="number"]::placeholder,
textarea::placeholder {
  color: #9A9A9A !important;
  font-weight: 500 !important;
}

/* Modal page transitions */
.modal-page {
  display: flex;
  flex-direction: column;
  gap: 25px;
}

.modal-page-static {
  display: flex;
  flex-direction: column;
  gap: 25px;
}

@keyframes slideOutToLeft {
  from {
    transform: translateX(0);
    opacity: 1;
  }
  to {
    transform: translateX(-100%);
    opacity: 0;
  }
}

@keyframes slideInFromLeft {
  from {
    transform: translateX(-100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes slideOutToRight {
  from {
    transform: translateX(0);
    opacity: 1;
  }
  to {
    transform: translateX(100%);
    opacity: 0;
  }
}

/* Modal animations */
@keyframes modalSlideUp {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes modalSlideDown {
  from {
    transform: translateY(0);
    opacity: 1;
  }
  to {
    transform: translateY(20px);
    opacity: 0;
  }
}

.modal-content {
  animation: modalSlideUp 0.2s ease-out forwards;
}

.modal-content.modal-closing {
  animation: modalSlideDown 0.2s ease-in forwards;
}

/* Faster page transition animations */
.modal-content.modal-page-closing {
  animation: modalSlideDown 0.12s ease-in forwards;
}

/* Modal backdrop animations */
@keyframes backdropFadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes backdropFadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.modal-backdrop {
  animation: backdropFadeIn 0.2s ease-out forwards;
}

.modal-backdrop.modal-backdrop-closing {
  animation: backdropFadeOut 0.2s ease-in forwards;
}

/* Faster page transition backdrop */
.modal-backdrop.modal-backdrop-page-closing {
  animation: backdropFadeOut 0.12s ease-in forwards;
}

/* Writing Assistant Modal animations */
@keyframes writingAssistantIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes writingAssistantOut {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.95);
  }
}

.writing-assistant-backdrop {
  animation: backdropFadeIn 0.2s ease-out forwards;
}

.writing-assistant-backdrop.writing-assistant-backdrop-closing {
  animation: backdropFadeOut 0.2s ease-in forwards;
}

.writing-assistant-content {
  animation: writingAssistantIn 0.2s ease-out forwards;
}

.writing-assistant-content.writing-assistant-closing {
  animation: writingAssistantOut 0.2s ease-in forwards;
}

/* Writing Assistant Popup animation */
@keyframes popupIn {
  from {
    opacity: 0;
    transform: translateY(-50%) translateX(4px);
  }
  to {
    opacity: 1;
    transform: translateY(-50%) translateX(0);
  }
}

@keyframes popupOut {
  from {
    opacity: 1;
    transform: translateY(-50%) translateX(0);
  }
  to {
    opacity: 0;
    transform: translateY(-50%) translateX(4px);
  }
}

.animate-popup-in {
  animation: popupIn 0.15s ease-out forwards;
}

.animate-popup-out {
  animation: popupOut 0.15s ease-in forwards;
}

/* Twinkling star animation for AI loading */
.twinkle-star {
  width: 14px;
  height: 14px;
  display: inline-block;
  position: relative;
}

/* Main twinkling star */
.twinkle-star::before {
  content: "✦";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 11px;
  color: #000000;
  animation: twinkle 1.5s ease-in-out infinite;
}

/* Shooting stars setup */
.twinkle-star .shoot1,
.twinkle-star .shoot2,
.twinkle-star .shoot3,
.twinkle-star .shoot4 {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 2px;
  height: 2px;
}

.twinkle-star .shoot1::before,
.twinkle-star .shoot2::before,
.twinkle-star .shoot3::before,
.twinkle-star .shoot4::before {
  content: "·";
  position: absolute;
  font-size: 6px;
  color: rgba(90, 90, 90, 0.8);
}

.twinkle-star .shoot1::before { animation: shootTR 2s ease-out infinite; }
.twinkle-star .shoot2::before { animation: shootTL 2s ease-out infinite 0.5s; }
.twinkle-star .shoot3::before { animation: shootBR 2s ease-out infinite 1s; }
.twinkle-star .shoot4::before { animation: shootBL 2s ease-out infinite 1.5s; }

/* Main star twinkling */
@keyframes twinkle {
  0%, 100% {
    transform: translate(-50%, -50%) scale(1) rotate(0deg);
    opacity: 1;
  }
  25% {
    transform: translate(-50%, -50%) scale(1.2) rotate(45deg);
    opacity: 0.9;
  }
  50% {
    transform: translate(-50%, -50%) scale(0.9) rotate(90deg);
    opacity: 1;
  }
  75% {
    transform: translate(-50%, -50%) scale(1.1) rotate(135deg);
    opacity: 0.95;
  }
}

/* Shooting animations */
@keyframes shootTR {
  0% { transform: translate(0, 0) scale(0); opacity: 0; }
  20% { transform: translate(0, 0) scale(1); opacity: 1; }
  100% { transform: translate(5px, -5px) scale(0); opacity: 0; }
}

@keyframes shootTL {
  0% { transform: translate(0, 0) scale(0); opacity: 0; }
  20% { transform: translate(0, 0) scale(1); opacity: 1; }
  100% { transform: translate(-5px, -5px) scale(0); opacity: 0; }
}

@keyframes shootBR {
  0% { transform: translate(0, 0) scale(0); opacity: 0; }
  20% { transform: translate(0, 0) scale(1); opacity: 1; }
  100% { transform: translate(5px, 5px) scale(0); opacity: 0; }
}

@keyframes shootBL {
  0% { transform: translate(0, 0) scale(0); opacity: 0; }
  20% { transform: translate(0, 0) scale(1); opacity: 1; }
  100% { transform: translate(-5px, 5px) scale(0); opacity: 0; }
}

/* Shimmer loading animation for text generation */
.shimmer-wrapper {
  width: 100%;
  padding: 6px 8px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.shimmer-line {
  height: 10px;
  border-radius: 3px;
  background: linear-gradient(
    90deg,
    #E8E8E8 0%,
    #D0D0D0 50%,
    #E8E8E8 100%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

/* Even widths for clean look */
.shimmer-line:nth-child(1) { width: 92%; }
.shimmer-line:nth-child(2) { width: 78%; }
.shimmer-line:nth-child(3) { width: 45%; }

/* Lead details skeleton loading animation */
.lead-skeleton-line {
  border-radius: 4px;
  background: linear-gradient(
    90deg,
    #F5F5F5 0%,
    #EBEBEB 50%,
    #F5F5F5 100%
  );
  background-size: 200% 100%;
  animation: leadSkeleton 1.2s ease-in-out infinite;
}

@keyframes leadSkeleton {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* Saving spinner animation */
.saving-spinner {
  width: 12px;
  height: 12px;
  border: 1.5px solid #E5E5E5;
  border-top-color: #6B7280;
  border-radius: 50%;
  animation: savingSpin 0.8s linear infinite;
}

@keyframes savingSpin {
  to {
    transform: rotate(360deg);
  }
}

